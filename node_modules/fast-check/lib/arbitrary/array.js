"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.array = void 0;
const Converters_1 = require("../check/arbitrary/definition/Converters");
const ArrayArbitrary_1 = require("./_internals/ArrayArbitrary");
const MaxLengthFromMinLength_1 = require("./_internals/helpers/MaxLengthFromMinLength");
function array(arb, ...args) {
    const nextArb = (0, Converters_1.convertToNext)(arb);
    if (args[0] === undefined)
        return (0, Converters_1.convertFromNext)(new ArrayArbitrary_1.ArrayArbitrary(nextArb, 0, (0, MaxLengthFromMinLength_1.maxLengthFromMinLength)(0)));
    if (typeof args[0] === 'object') {
        const minLength = args[0].minLength || 0;
        const specifiedMaxLength = args[0].maxLength;
        const maxLength = specifiedMaxLength !== undefined ? specifiedMaxLength : (0, MaxLengthFromMinLength_1.maxLengthFromMinLength)(minLength);
        return (0, Converters_1.convertFromNext)(new ArrayArbitrary_1.ArrayArbitrary(nextArb, minLength, maxLength));
    }
    if (args[1] !== undefined)
        return (0, Converters_1.convertFromNext)(new ArrayArbitrary_1.ArrayArbitrary(nextArb, args[0], args[1]));
    return (0, Converters_1.convertFromNext)(new ArrayArbitrary_1.ArrayArbitrary(nextArb, 0, args[0]));
}
exports.array = array;
